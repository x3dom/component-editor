<!DOCTYPE html>
<html id="htmlDoc">

<head>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" />

    <title>CAD Component editor</title>

    <!--X3DOM script and css-->
    <!--script type="text/javascript"                   src="../static/ext/x3dom-full.js"></script-->
    <script type="text/javascript"                   src="../static/ext/x3dom-full.debug.js"></script>
    <link   type="text/css"        rel="stylesheet" href="../static/ext/x3dom.css"/>

    <!--css layout which organizes the UI components-->
    <link type="text/css" rel="stylesheet" href="../static/css/uiLayout.css"/>

    <!--jquery + jquery ui scripts-->
    <script type="text/javascript" src="../static/ext/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../static/ext/jquery-ui-1.10.3.custom.min.js"></script>

    <!--exchangable jquery ui css layout which styles the UI components by setting up default colors etc.-->
    <!--stylesheets can replaced or customized using the jquery theme roller: http://jqueryui.com/themeroller/ -->
    <link id ="stylesheetLink" type="text/css" rel="stylesheet"  href="../static/ext/lightness/jquery-ui-1.10.3.custom.min.css"/>

    <!--external js and css files for both editors-->
    <script type="text/javascript"                   src="../static/ext/jquery.dynatree.min.js"></script>
    <link   type="text/css"        rel="stylesheet" href="../static/ext/dynatree-skin-vista/ui.dynatree.css">

    <!--shared js files for both editor tools-->
    <script type='text/javascript' src="../static/js/TransformableObject.js"></script>
    <script type='text/javascript' src="../static/js/PrimitiveManager.js"></script>
    <script type='text/javascript' src="../static/js/Group.js"></script>
    <script type='text/javascript' src="../static/js/EditorView.js"></script>
    <script type='text/javascript' src="../static/js/EditorScene.js"></script>
    <script type='text/javascript' src="../static/js/SelectionController.js"></script>
    <script type='text/javascript' src="../static/js/DragController.js"></script>
    <script type='text/javascript' src="../static/js/Params.js"></script>
    <script type='text/javascript' src="../static/js/Primitives.js"></script>
    <script type='text/javascript' src="../static/js/ReferenceUnits.js"></script>
    <script type='text/javascript' src="../static/js/ReferenceSystem.js"></script>
    <script type='text/javascript' src="../static/js/UI.js"></script>
    <script type='text/javascript' src="../static/js/Controller.js"></script>
    <script type='text/javascript' src="../static/js/jquery.viewConnector.js"></script>
    <script type='text/javascript' src="../static/js/EditorBase.js"></script>
    <script type='text/javascript' src="../static/js/EventSystem.js"></script>
    <script type='text/javascript' src="../static/js/GizmoController.js"></script>
    <script type='text/javascript' src="../static/js/SimpleTreeViewer.js"></script>
    <script type='text/javascript' src="../static/js/DSLConverter.js"></script>

    <!--js files for this editor-->
    <script type='text/javascript' src="js/jquery.editor2D.js"></script>
    <script type='text/javascript' src="js/StorageManager.js"></script>
    <script type='text/javascript' src="js/ComponentEditor.js"></script>
    <script type='text/javascript' src="js/main.js"></script>

</head>

<body id="htmlBody" >

    <!--this container sets up all fonts for the document, using the current jquery ui style-->
    <div id="mainContainer" class="ui-widget">


        <!--message overlays-->
        <div id="messageOverlays">
            <div id="sceneNotSavedWarning" class="ui-widget">
                <div class="ui-state-highlight ui-corner-all" style="padding: 4px; margin: 2px;">
                    <span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
                    scene is not saved
                </div>
            </div>
            <div id="originMissingWarning" class="ui-widget">
                <div class="ui-state-highlight ui-corner-all" style="padding: 4px; margin: 2px;">
                    <span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
                    no reference points added
                </div>
            </div>
            <div id="referencePointsMissingWarning" class="ui-widget">
                <div class="ui-state-highlight ui-corner-all" style="padding: 4px; margin: 2px;">
                    <span class="ui-icon ui-icon-alert" style="float: left; margin-right: .3em;"></span>
                    no origin added
                </div>
            </div>
        </div>


        <!-- primitive / connection point overlays -->
        <div id="connectionPointOverlays" style="visibility: hidden;">

        </div>


        <!-- transformation gizmo control overlays -->
        <div class="transformationGizmoControlOverlays">
            <a id="translationGizmoButton" class="translationGizmoIconDisabled"
               onclick="this.className = (this.className == 'translationGizmoIconDisabled') ? 'translationGizmoIconEnabled' : 'translationGizmoIconDisabled';
                        g_editor.getGizmoController().updateTranslationGizmoVisibility();"
               title="Translation Tool">
           </a>
            <a id="rotationGizmoButton" class="rotationGizmoIconDisabled"
               onclick="this.className = (this.className == 'rotationGizmoIconDisabled') ? 'rotationGizmoIconEnabled' : 'rotationGizmoIconDisabled';
                        g_editor.getGizmoController().updateRotationGizmoVisibility();"
               title="Rotation Tool">
           </a>
        </div>

        <!--dynamically appearing context menu-->
        <div id="contextMenu" class="ui-widget-content"></div>


        <!--container for initially inivsible uis -->
        <div id="shapeEditorContainer"></div>
        <div id="alignmentDialogContainer"></div>


        <!-- top menubar -->
        <div class="ui-widget-content" id="topMenuBar"></div>

        <!-- bottom menubar -->
        <div class="ui-widget-content" id="bottomMenuBar"></div>

        <!--left sidebar-->
        <div class="sidebar ui-widget-content" id="leftSidebar"></div>

        <!--right sidebar-->
        <div class="sidebar ui-widget-content" id="rightSidebar"></div>

        <!--central x3dom context-->
        <div >
        <x3d id="x3domCentralSceneView" showStat="false" showLog="false" disableTouch="true" style="background:#d3d3d3;"
             ondrop="if(g_editor) g_editor.getActiveView().drop(event)" ondragover="if(g_editor) g_editor.getActiveView().dragOver(event)"
             ondragenter="if(g_editor) g_editor.getActiveView().dragEnter(event)"
             onmousedown="if(g_editor && g_editor.getActiveView()) g_editor.getActiveView().mousePressed(event);"
             onmouseup  ="if(g_editor && g_editor.getActiveView()) g_editor.getActiveView().mouseReleased(event);"
             onmousemove="if(g_editor && g_editor.getActiveView()) g_editor.getActiveView().mouseMoved(event);"
             onmouseout ="if(g_editor && g_editor.getActiveView()) g_editor.getActiveView().mouseOut(event);"
             onmouseover="if(g_editor && g_editor.getActiveView()) g_editor.getActiveView().mouseOver(event);">
            <scene onbackgroundClicked="if(g_editor) g_editor.getCreateElementContextMenu().createElemOnClick(event);">
                <viewpoint id="viewPoint" position="5.53912 7.69774 6.54642" orientation="-0.69862 0.66817 0.25590 1.00294"></viewpoint>

                <navigationInfo id="navi" type='"TURNTABLE" "ANY"' typeParams="-0.4, 60, 0.5, 1.55"></navigationInfo>

                <orthoviewpoint id="orthoViewPointFront" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="0 0 10" orientation="0 1 0 0">
                </orthoviewpoint>
                <orthoviewpoint id="orthoViewPointBack" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="0 0 -10" orientation="0 1 0 3.14159265359">
                </orthoviewpoint>
                <orthoviewpoint id="orthoViewPointTop" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="0 10 0" orientation="-1 0 0 1.57079632679">
                </orthoviewpoint>
                <orthoviewpoint id="orthoViewPointBottom" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="0 -10 0" orientation="1 0 0 1.57079632679">
                </orthoviewpoint>
                <orthoviewpoint id="orthoViewPointLeft" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="-10 0 0" orientation="0 -1 0 1.57079632679">
                </orthoviewpoint>
                <orthoviewpoint id="orthoViewPointRight" zNear="0.001" zFar="100000" fieldOfView="-7.5 -7.5 7.5 7.5"
                                position="10 0 0" orientation="0 1 0 1.57079632679">
                </orthoviewpoint>

                <transform id="planeId" rotation="1 0 0 -1.57079632679">
                        <inline url="../static/x3d/plane.x3d" mapDEFToID="true" namespaceName="plane"></inline>
                </transform>

                <transform id="axes">
                    <inline url="../static/x3d/axes.x3d" mapDEFToID="true" namespaceName="axes"></inline>
                </transform>

                <matrixTransform id="bbox_transform">
                    <Shape isPickable="false" DEF="line">
                        <IndexedLineSet coordIndex="0 1 2 3 0 -1, 4 5 6 7 4 -1, 0 4 -1, 1 5 -1, 2 6 -1, 3 7 -1">
                            <Coordinate id="bbox_points" point="0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0, 0 0 0">
                            </Coordinate>
                            <Color color="1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0, 1 0.27 0">
                            </Color>
                        </IndexedLineSet>
                    </Shape>
                </matrixTransform>

                <transform id="root" translation="0 0 0"></transform>


                <!----------------------------------------------------------------------------------------------------->
                <!------------------------------------ TRANSFORMATION GIZMOS ------------------------------------------>
                <!----------------------------------------------------------------------------------------------------->

                <!----------------------------------------------------------------------------------------------------->
                <!--------------------                    TRANSLATION                 --------------------------------->
                <!----------------------------------------------------------------------------------------------------->

                <group id='translationGizmoGroup' render='false'>

                    <!-- Handle X (X3DOM System) -->
                    <group>

                        <planeSensor id='transformationGizmoPlaneSensorX' DEF='planeSensorTX'
                                     autoOffset='false' minPosition='0 0' maxPosition='-1 0' axisRotation='1 0 0 -1.5707963267948966192313216916398'
                                     onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                        </planeSensor>

                        <transform class='gizmoHandleTranslation'>

                            <transform class='gizmoSensorGeometryScale'>
                                <transform translation='2 0 0' rotation='0 0 1 -1.57' scale='0.2 2 0.2'>
                                    <shape>
                                        <appearance DEF='RED_APP'>
                                            <material diffuseColor='0 0 0' emissiveColor='1 0.3 0.3'></material>
                                            <depthMode depthFunc='ALWAYS'></depthMode>
                                        </appearance>
                                        <cylinder></cylinder>
                                    </shape>
                                </transform>
                                <transform translation='4.2 0 0' rotation='0 0 1 -1.57' scale='0.3 0.4 0.3'>
                                    <shape>
                                        <appearance USE='RED_APP'></appearance>
                                        <cone></cone>
                                    </shape>
                                </transform>
                            </transform>

                        </transform>

                    </group>

                    <!-- Handle Y (X3DOM System) -->
                    <group>

                        <planeSensor id='transformationGizmoPlaneSensorY' DEF='planeSensorTY'
                                     autoOffset='false' minPosition='0 0' maxPosition='0 -1'
                                     onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                        </planeSensor>

                        <transform class='gizmoHandleTranslation'>

                            <transform class='gizmoSensorGeometryScale'>
                                <transform translation='0 2 0' scale='0.2 2 0.2'>
                                    <shape>
                                        <appearance DEF='BLUE_APP'>
                                            <material diffuseColor='0 0 0' emissiveColor='0.3 0.3 1'></material>
                                            <depthMode depthFunc='ALWAYS'></depthMode>
                                        </appearance>
                                        <cylinder></cylinder>
                                    </shape>
                                </transform>
                                <transform translation='0 4.2 0' scale='0.3 0.4 0.3'>
                                    <shape>
                                        <appearance USE='BLUE_APP'></appearance>
                                        <cone></cone>
                                    </shape>
                                </transform>
                            </transform>

                        </transform>

                    </group>

                    <!-- Handle Z (X3DOM System) -->
                    <group>

                        <planeSensor id='transformationGizmoPlaneSensorZ' DEF='planeSensorTZ'
                                     autoOffset='false' minPosition='0 0' maxPosition='0 -1' axisRotation='1 0 0 -1.5707963267948966192313216916398'
                                     onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                        </planeSensor>

                        <transform class='gizmoHandleTranslation'>

                            <transform class='gizmoSensorGeometryScale'>
                                <transform rotation='1 0 0 -1.57' translation='0 0 -2' scale='0.2 2 0.2'>
                                    <shape>
                                        <appearance DEF='GREEN_APP'>
                                            <material diffuseColor='0 0 0' emissiveColor='0.3 1 0.3'></material>
                                            <depthMode depthFunc='ALWAYS'></depthMode>
                                        </appearance>
                                        <cylinder></cylinder>
                                    </shape>
                                </transform>
                                <transform rotation='1 0 0 -1.57' translation='0 0 -4.2' scale='0.3 0.4 0.3'>
                                    <shape>
                                        <appearance USE='GREEN_APP'></appearance>
                                        <cone></cone>
                                    </shape>
                                </transform>
                            </transform>

                        </transform>

                    </group>

                    <!-- Central handle cover ball (workaround for depth issues) -->
                    <group>
                        <transform class='gizmoHandleTranslation'>

                            <transform class='gizmoSensorGeometryScale'>
                                <transform scale='0.25 0.25 0.25'>
                                    <shape>
                                        <appearance>
                                            <material diffuseColor='0 0 0' emissiveColor='0.9 0.9 0.9'></material>
                                            <depthMode depthFunc='ALWAYS'></depthMode>
                                        </appearance>
                                        <sphere></sphere>
                                    </shape>
                                </transform>
                            </transform>

                        </transform>
                    </group>

                </group>
                <!----------------------------------------------------------------------------------------------------->
                <!------------------------          END TRANSLATION GIZMO                                 ------------->
                <!----------------------------------------------------------------------------------------------------->

                <!----------------------------------------------------------------------------------------------------->
                <!--------------------                     ROTATION                   --------------------------------->
                <!----------------------------------------------------------------------------------------------------->

                <group id='rotationGizmoGroup' render='false'>

                    <transform class='gizmoHandleTranslation'>

                        <!-- TODO: remove this one -->
                        <transform scale="2.5 2.5 2.5">


                            <!-- Handle X -->
                            <group>

                                <cylinderSensor id="gizmoRotationSensorX" autoOffset='false' axisRotation='0 0 1 -1.57'
                                                onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                                </cylinderSensor>

                                <transform class='gizmoSensorGeometryScale'>
                                    <transform scale='1 2 2'>
                                        <shape>
                                            <appearance use='RED_APP'></appearance>
                                            <indexedtriangleset solid="true" normalpervertex="true" index="0 1 2 0 2 3 4 5 6 4 6 7 8 9 10 8 10 11 12 0 3 12 3 13 14 4 7 14 7 15 16 8 11 16 11 17 18 14 15 18 15 19 20 16 17 20 17 21 22 18 19 22 19 23 24 20 21 24 21 25 26 22 23 26 23 27 28 24 25 28 25 29 1 26 27 1 27 2 5 28 29 5 29 6 27 23 30 27 30 31 29 25 32 29 32 33 2 27 31 2 31 34 6 29 33 6 33 35 3 2 34 3 34 36 7 6 35 7 35 37 11 10 38 11 38 39 13 3 36 13 36 40 15 7 37 15 37 41 17 11 39 17 39 42 19 15 41 19 41 43 21 17 42 21 42 44 23 19 43 23 43 30 25 21 44 25 44 32 45 46 47 45 47 48 49 50 51 49 51 52 53 45 48 53 48 54 55 49 52 55 52 56 57 53 54 57 54 58 59 55 56 59 56 60 61 57 58 61 58 62 63 59 60 63 60 64 65 61 62 65 62 66 67 63 64 67 64 68 69 70 71 69 71 72 73 65 66 73 66 74 46 67 68 46 68 47 50 69 72 50 72 51 66 62 75 66 75 76 68 64 77 68 77 78 72 71 79 72 79 80 74 66 76 74 76 81 47 68 78 47 78 82 51 72 80 51 80 83 48 47 82 48 82 84 52 51 83 52 83 85 54 48 84 54 84 86 56 52 85 56 85 87 58 54 86 58 86 88 60 56 87 60 87 89 62 58 88 62 88 75 64 60 89 64 89 77 13 90 91 13 91 12 70 92 93 70 93 71 9 94 93 9 93 10 90 13 40 90 40 95 74 90 95 74 95 73 94 79 71 94 71 93 90 74 81 90 81 91 92 38 10 92 10 93 ">
                                                <coordinate point="-0.126178 0.375330 -0.923880 -0.126178 0.544895 -0.831470 0.000000 0.555570 -0.831470 0.000000 0.382684 -0.923880 -0.126178 0.980785 0.000000 -0.126178 0.961940 0.195090 0.000000 0.980785 0.195090 0.000000 1.000000 0.000000 -0.126178 0.375331 0.923880 -0.126178 0.191342 0.980785 0.000000 0.195091 0.980785 0.000000 0.382684 0.923880 -0.126178 0.191342 -0.980785 0.000000 0.195090 -0.980785 -0.126178 0.961940 -0.195090 0.000000 0.980785 -0.195090 -0.126178 0.544895 0.831470 0.000000 0.555570 0.831470 -0.126178 0.906128 -0.382683 0.000000 0.923880 -0.382683 -0.126178 0.693520 0.707107 0.000000 0.707107 0.707107 -0.126178 0.815493 -0.555570 0.000000 0.831470 -0.555570 -0.126178 0.815493 0.555570 0.000000 0.831470 0.555570 -0.126178 0.693520 -0.707107 0.000000 0.707107 -0.707107 -0.126178 0.906128 0.382683 0.000000 0.923880 0.382683 0.126178 0.815493 -0.555570 0.126178 0.693520 -0.707107 0.126178 0.815493 0.555570 0.126178 0.906128 0.382683 0.126178 0.544895 -0.831470 0.126178 0.961940 0.195090 0.126178 0.375330 -0.923880 0.126178 0.980785 0.000000 0.126178 0.191342 0.980785 0.126178 0.375330 0.923880 0.126178 0.191342 -0.980785 0.126178 0.961940 -0.195090 0.126178 0.544895 0.831470 0.126178 0.906128 -0.382683 0.126178 0.693520 0.707107 0.126178 -0.906128 -0.382683 0.126178 -0.961940 -0.195090 0.000000 -0.980785 -0.195090 0.000000 -0.923880 -0.382683 0.126178 -0.693520 0.707107 0.126178 -0.544895 0.831470 0.000000 -0.555570 0.831470 0.000000 -0.707107 0.707107 0.126178 -0.815493 -0.555570 0.000000 -0.831469 -0.555570 0.126178 -0.815493 0.555570 0.000000 -0.831469 0.555570 0.126178 -0.693520 -0.707107 0.000000 -0.707107 -0.707107 0.126178 -0.906127 0.382683 0.000000 -0.923879 0.382683 0.126178 -0.544895 -0.831470 0.000000 -0.555570 -0.831470 0.126178 -0.961940 0.195090 0.000000 -0.980785 0.195090 0.126178 -0.375330 -0.923880 0.000000 -0.382683 -0.923880 0.126178 -0.980785 0.000000 0.000000 -1.000000 0.000000 0.126178 -0.375330 0.923880 0.126178 -0.191342 0.980785 0.000000 -0.195090 0.980785 0.000000 -0.382684 0.923880 0.126178 -0.191342 -0.980785 0.000000 -0.195090 -0.980785 -0.126178 -0.544895 -0.831470 -0.126178 -0.375330 -0.923880 -0.126178 -0.961939 0.195090 -0.126178 -0.980785 0.000000 -0.126178 -0.191342 0.980785 -0.126178 -0.375330 0.923880 -0.126178 -0.191342 -0.980785 -0.126178 -0.961939 -0.195090 -0.126178 -0.544895 0.831470 -0.126178 -0.906127 -0.382683 -0.126178 -0.693520 0.707107 -0.126178 -0.815493 -0.555570 -0.126178 -0.815493 0.555570 -0.126178 -0.693520 -0.707107 -0.126178 -0.906127 0.382683 0.000000 0.000000 -1.012271 -0.126178 0.000000 -1.012271 0.126178 0.000000 1.012271 0.000000 0.000000 1.012271 -0.126178 0.000000 1.012271 0.126178 0.000000 -1.012271 " />
                                                <normal vector="-0.023133 0.382550 -0.923643 -0.047182 0.554918 -0.830561 0.000000 0.562792 -0.826563 0.000000 0.388867 -0.921262 -0.149113 0.988800 0.000000 -0.143559 0.970611 0.193060 0.000000 0.981445 0.191626 0.000000 1.000000 0.000000 -0.023133 0.382550 0.923643 -0.007538 0.226142 0.974059 0.000000 0.228553 0.973510 0.000000 0.388867 0.921262 -0.007538 0.226142 -0.974059 0.000000 0.228553 -0.973510 -0.143559 0.970611 -0.193060 0.000000 0.981445 -0.191626 -0.047182 0.554918 0.830561 0.000000 0.562792 0.826563 -0.127689 0.916288 -0.379559 0.000000 0.926359 -0.376629 -0.075533 0.705039 0.705100 0.000000 0.713675 0.700430 -0.103824 0.826930 -0.552568 0.000000 0.836207 -0.548387 -0.103824 0.826930 0.552568 0.000000 0.836207 0.548387 -0.075533 0.705039 -0.705100 0.000000 0.713675 -0.700430 -0.127689 0.916288 0.379559 0.000000 0.926359 0.376629 0.103824 0.826930 -0.552568 0.075533 0.705039 -0.705100 0.103824 0.826930 0.552568 0.127689 0.916288 0.379559 0.047182 0.554918 -0.830561 0.143559 0.970611 0.193060 0.023133 0.382550 -0.923643 0.149113 0.988800 0.000000 0.007538 0.226142 0.974059 0.023133 0.382550 0.923643 0.007538 0.226142 -0.974059 0.143559 0.970611 -0.193060 0.047182 0.554918 0.830561 0.127689 0.916288 -0.379559 0.075533 0.705039 0.705100 0.127689 -0.916288 -0.379559 0.143559 -0.970611 -0.193060 0.000000 -0.981445 -0.191626 0.000000 -0.926359 -0.376629 0.075533 -0.705039 0.705100 0.047182 -0.554918 0.830561 0.000000 -0.562792 0.826563 0.000000 -0.713706 0.700430 0.103824 -0.826930 -0.552568 0.000000 -0.836207 -0.548387 0.103824 -0.826960 0.552568 0.000000 -0.836207 0.548387 0.075533 -0.705039 -0.705100 0.000000 -0.713706 -0.700430 0.127689 -0.916288 0.379559 0.000000 -0.926359 0.376629 0.047182 -0.554918 -0.830561 0.000000 -0.562792 -0.826563 0.143559 -0.970611 0.193060 0.000000 -0.981445 0.191626 0.023133 -0.382550 -0.923643 0.000000 -0.388867 -0.921262 0.149113 -0.988800 0.000000 0.000000 -1.000000 0.000000 0.023133 -0.382550 0.923643 0.007538 -0.226142 0.974059 0.000000 -0.228553 0.973510 0.000000 -0.388867 0.921262 0.007538 -0.226142 -0.974059 0.000000 -0.228553 -0.973510 -0.047182 -0.554918 -0.830561 -0.023133 -0.382550 -0.923643 -0.143559 -0.970611 0.193060 -0.149113 -0.988800 0.000000 -0.007538 -0.226142 0.974059 -0.023133 -0.382550 0.923643 -0.007538 -0.226142 -0.974059 -0.143559 -0.970611 -0.193060 -0.047182 -0.554918 0.830561 -0.127689 -0.916288 -0.379559 -0.075533 -0.705039 0.705100 -0.103824 -0.826930 -0.552568 -0.103824 -0.826960 0.552568 -0.075533 -0.705039 -0.705100 -0.127689 -0.916288 0.379559 0.000000 0.000000 -1.000000 -0.002411 0.000000 -0.999969 0.002411 0.000000 0.999969 0.000000 0.000000 1.000000 -0.002411 0.000000 0.999969 0.002411 0.000000 -0.999969 " />
                                            </indexedtriangleset>
                                        </shape>
                                    </transform>
                                </transform>

                            </group>

                            <!-- Handle Y -->
                            <group>

                                <cylinderSensor id="gizmoRotationSensorY" autoOffset='false'
                                                onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                                </cylinderSensor>

                                <transform class='gizmoSensorGeometryScale'>
                                    <transform scale='1 2.05 2.05' rotation='0 0 1 -1.57'>
                                        <shape>
                                            <appearance use='BLUE_APP'></appearance>
                                            <indexedtriangleset solid="true" normalpervertex="true" index="0 1 2 0 2 3 4 5 6 4 6 7 8 9 10 8 10 11 12 0 3 12 3 13 14 4 7 14 7 15 16 8 11 16 11 17 18 14 15 18 15 19 20 16 17 20 17 21 22 18 19 22 19 23 24 20 21 24 21 25 26 22 23 26 23 27 28 24 25 28 25 29 1 26 27 1 27 2 5 28 29 5 29 6 27 23 30 27 30 31 29 25 32 29 32 33 2 27 31 2 31 34 6 29 33 6 33 35 3 2 34 3 34 36 7 6 35 7 35 37 11 10 38 11 38 39 13 3 36 13 36 40 15 7 37 15 37 41 17 11 39 17 39 42 19 15 41 19 41 43 21 17 42 21 42 44 23 19 43 23 43 30 25 21 44 25 44 32 45 46 47 45 47 48 49 50 51 49 51 52 53 45 48 53 48 54 55 49 52 55 52 56 57 53 54 57 54 58 59 55 56 59 56 60 61 57 58 61 58 62 63 59 60 63 60 64 65 61 62 65 62 66 67 63 64 67 64 68 69 70 71 69 71 72 73 65 66 73 66 74 46 67 68 46 68 47 50 69 72 50 72 51 66 62 75 66 75 76 68 64 77 68 77 78 72 71 79 72 79 80 74 66 76 74 76 81 47 68 78 47 78 82 51 72 80 51 80 83 48 47 82 48 82 84 52 51 83 52 83 85 54 48 84 54 84 86 56 52 85 56 85 87 58 54 86 58 86 88 60 56 87 60 87 89 62 58 88 62 88 75 64 60 89 64 89 77 13 90 91 13 91 12 70 92 93 70 93 71 9 94 93 9 93 10 90 13 40 90 40 95 74 90 95 74 95 73 94 79 71 94 71 93 90 74 81 90 81 91 92 38 10 92 10 93 ">
                                                <coordinate point="-0.126178 0.375330 -0.923880 -0.126178 0.544895 -0.831470 0.000000 0.555570 -0.831470 0.000000 0.382684 -0.923880 -0.126178 0.980785 0.000000 -0.126178 0.961940 0.195090 0.000000 0.980785 0.195090 0.000000 1.000000 0.000000 -0.126178 0.375331 0.923880 -0.126178 0.191342 0.980785 0.000000 0.195091 0.980785 0.000000 0.382684 0.923880 -0.126178 0.191342 -0.980785 0.000000 0.195090 -0.980785 -0.126178 0.961940 -0.195090 0.000000 0.980785 -0.195090 -0.126178 0.544895 0.831470 0.000000 0.555570 0.831470 -0.126178 0.906128 -0.382683 0.000000 0.923880 -0.382683 -0.126178 0.693520 0.707107 0.000000 0.707107 0.707107 -0.126178 0.815493 -0.555570 0.000000 0.831470 -0.555570 -0.126178 0.815493 0.555570 0.000000 0.831470 0.555570 -0.126178 0.693520 -0.707107 0.000000 0.707107 -0.707107 -0.126178 0.906128 0.382683 0.000000 0.923880 0.382683 0.126178 0.815493 -0.555570 0.126178 0.693520 -0.707107 0.126178 0.815493 0.555570 0.126178 0.906128 0.382683 0.126178 0.544895 -0.831470 0.126178 0.961940 0.195090 0.126178 0.375330 -0.923880 0.126178 0.980785 0.000000 0.126178 0.191342 0.980785 0.126178 0.375330 0.923880 0.126178 0.191342 -0.980785 0.126178 0.961940 -0.195090 0.126178 0.544895 0.831470 0.126178 0.906128 -0.382683 0.126178 0.693520 0.707107 0.126178 -0.906128 -0.382683 0.126178 -0.961940 -0.195090 0.000000 -0.980785 -0.195090 0.000000 -0.923880 -0.382683 0.126178 -0.693520 0.707107 0.126178 -0.544895 0.831470 0.000000 -0.555570 0.831470 0.000000 -0.707107 0.707107 0.126178 -0.815493 -0.555570 0.000000 -0.831469 -0.555570 0.126178 -0.815493 0.555570 0.000000 -0.831469 0.555570 0.126178 -0.693520 -0.707107 0.000000 -0.707107 -0.707107 0.126178 -0.906127 0.382683 0.000000 -0.923879 0.382683 0.126178 -0.544895 -0.831470 0.000000 -0.555570 -0.831470 0.126178 -0.961940 0.195090 0.000000 -0.980785 0.195090 0.126178 -0.375330 -0.923880 0.000000 -0.382683 -0.923880 0.126178 -0.980785 0.000000 0.000000 -1.000000 0.000000 0.126178 -0.375330 0.923880 0.126178 -0.191342 0.980785 0.000000 -0.195090 0.980785 0.000000 -0.382684 0.923880 0.126178 -0.191342 -0.980785 0.000000 -0.195090 -0.980785 -0.126178 -0.544895 -0.831470 -0.126178 -0.375330 -0.923880 -0.126178 -0.961939 0.195090 -0.126178 -0.980785 0.000000 -0.126178 -0.191342 0.980785 -0.126178 -0.375330 0.923880 -0.126178 -0.191342 -0.980785 -0.126178 -0.961939 -0.195090 -0.126178 -0.544895 0.831470 -0.126178 -0.906127 -0.382683 -0.126178 -0.693520 0.707107 -0.126178 -0.815493 -0.555570 -0.126178 -0.815493 0.555570 -0.126178 -0.693520 -0.707107 -0.126178 -0.906127 0.382683 0.000000 0.000000 -1.012271 -0.126178 0.000000 -1.012271 0.126178 0.000000 1.012271 0.000000 0.000000 1.012271 -0.126178 0.000000 1.012271 0.126178 0.000000 -1.012271 " />
                                                <normal vector="-0.023133 0.382550 -0.923643 -0.047182 0.554918 -0.830561 0.000000 0.562792 -0.826563 0.000000 0.388867 -0.921262 -0.149113 0.988800 0.000000 -0.143559 0.970611 0.193060 0.000000 0.981445 0.191626 0.000000 1.000000 0.000000 -0.023133 0.382550 0.923643 -0.007538 0.226142 0.974059 0.000000 0.228553 0.973510 0.000000 0.388867 0.921262 -0.007538 0.226142 -0.974059 0.000000 0.228553 -0.973510 -0.143559 0.970611 -0.193060 0.000000 0.981445 -0.191626 -0.047182 0.554918 0.830561 0.000000 0.562792 0.826563 -0.127689 0.916288 -0.379559 0.000000 0.926359 -0.376629 -0.075533 0.705039 0.705100 0.000000 0.713675 0.700430 -0.103824 0.826930 -0.552568 0.000000 0.836207 -0.548387 -0.103824 0.826930 0.552568 0.000000 0.836207 0.548387 -0.075533 0.705039 -0.705100 0.000000 0.713675 -0.700430 -0.127689 0.916288 0.379559 0.000000 0.926359 0.376629 0.103824 0.826930 -0.552568 0.075533 0.705039 -0.705100 0.103824 0.826930 0.552568 0.127689 0.916288 0.379559 0.047182 0.554918 -0.830561 0.143559 0.970611 0.193060 0.023133 0.382550 -0.923643 0.149113 0.988800 0.000000 0.007538 0.226142 0.974059 0.023133 0.382550 0.923643 0.007538 0.226142 -0.974059 0.143559 0.970611 -0.193060 0.047182 0.554918 0.830561 0.127689 0.916288 -0.379559 0.075533 0.705039 0.705100 0.127689 -0.916288 -0.379559 0.143559 -0.970611 -0.193060 0.000000 -0.981445 -0.191626 0.000000 -0.926359 -0.376629 0.075533 -0.705039 0.705100 0.047182 -0.554918 0.830561 0.000000 -0.562792 0.826563 0.000000 -0.713706 0.700430 0.103824 -0.826930 -0.552568 0.000000 -0.836207 -0.548387 0.103824 -0.826960 0.552568 0.000000 -0.836207 0.548387 0.075533 -0.705039 -0.705100 0.000000 -0.713706 -0.700430 0.127689 -0.916288 0.379559 0.000000 -0.926359 0.376629 0.047182 -0.554918 -0.830561 0.000000 -0.562792 -0.826563 0.143559 -0.970611 0.193060 0.000000 -0.981445 0.191626 0.023133 -0.382550 -0.923643 0.000000 -0.388867 -0.921262 0.149113 -0.988800 0.000000 0.000000 -1.000000 0.000000 0.023133 -0.382550 0.923643 0.007538 -0.226142 0.974059 0.000000 -0.228553 0.973510 0.000000 -0.388867 0.921262 0.007538 -0.226142 -0.974059 0.000000 -0.228553 -0.973510 -0.047182 -0.554918 -0.830561 -0.023133 -0.382550 -0.923643 -0.143559 -0.970611 0.193060 -0.149113 -0.988800 0.000000 -0.007538 -0.226142 0.974059 -0.023133 -0.382550 0.923643 -0.007538 -0.226142 -0.974059 -0.143559 -0.970611 -0.193060 -0.047182 -0.554918 0.830561 -0.127689 -0.916288 -0.379559 -0.075533 -0.705039 0.705100 -0.103824 -0.826930 -0.552568 -0.103824 -0.826960 0.552568 -0.075533 -0.705039 -0.705100 -0.127689 -0.916288 0.379559 0.000000 0.000000 -1.000000 -0.002411 0.000000 -0.999969 0.002411 0.000000 0.999969 0.000000 0.000000 1.000000 -0.002411 0.000000 0.999969 0.002411 0.000000 -0.999969 " />
                                            </indexedtriangleset>
                                        </shape>
                                    </transform>
                                </transform>

                            </group>

                            <!-- Handle Z -->
                            <group>

                                <cylinderSensor id="gizmoRotationSensorZ" autoOffset='false' axisRotation='1 0 0 -1.57'
                                                onoutputchange='if (g_editor.getGizmoController()) g_editor.getGizmoController().processGizmoEvent(event);'>
                                </cylinderSensor>

                                <transform class='gizmoSensorGeometryScale'>
                                    <transform scale='1 2.1 2.1' rotation='0 1 0 -1.57'>
                                        <shape>
                                            <appearance use='GREEN_APP'></appearance>
                                            <indexedtriangleset solid="true" normalpervertex="true" index="0 1 2 0 2 3 4 5 6 4 6 7 8 9 10 8 10 11 12 0 3 12 3 13 14 4 7 14 7 15 16 8 11 16 11 17 18 14 15 18 15 19 20 16 17 20 17 21 22 18 19 22 19 23 24 20 21 24 21 25 26 22 23 26 23 27 28 24 25 28 25 29 1 26 27 1 27 2 5 28 29 5 29 6 27 23 30 27 30 31 29 25 32 29 32 33 2 27 31 2 31 34 6 29 33 6 33 35 3 2 34 3 34 36 7 6 35 7 35 37 11 10 38 11 38 39 13 3 36 13 36 40 15 7 37 15 37 41 17 11 39 17 39 42 19 15 41 19 41 43 21 17 42 21 42 44 23 19 43 23 43 30 25 21 44 25 44 32 45 46 47 45 47 48 49 50 51 49 51 52 53 45 48 53 48 54 55 49 52 55 52 56 57 53 54 57 54 58 59 55 56 59 56 60 61 57 58 61 58 62 63 59 60 63 60 64 65 61 62 65 62 66 67 63 64 67 64 68 69 70 71 69 71 72 73 65 66 73 66 74 46 67 68 46 68 47 50 69 72 50 72 51 66 62 75 66 75 76 68 64 77 68 77 78 72 71 79 72 79 80 74 66 76 74 76 81 47 68 78 47 78 82 51 72 80 51 80 83 48 47 82 48 82 84 52 51 83 52 83 85 54 48 84 54 84 86 56 52 85 56 85 87 58 54 86 58 86 88 60 56 87 60 87 89 62 58 88 62 88 75 64 60 89 64 89 77 13 90 91 13 91 12 70 92 93 70 93 71 9 94 93 9 93 10 90 13 40 90 40 95 74 90 95 74 95 73 94 79 71 94 71 93 90 74 81 90 81 91 92 38 10 92 10 93 ">
                                                <coordinate point="-0.126178 0.375330 -0.923880 -0.126178 0.544895 -0.831470 0.000000 0.555570 -0.831470 0.000000 0.382684 -0.923880 -0.126178 0.980785 0.000000 -0.126178 0.961940 0.195090 0.000000 0.980785 0.195090 0.000000 1.000000 0.000000 -0.126178 0.375331 0.923880 -0.126178 0.191342 0.980785 0.000000 0.195091 0.980785 0.000000 0.382684 0.923880 -0.126178 0.191342 -0.980785 0.000000 0.195090 -0.980785 -0.126178 0.961940 -0.195090 0.000000 0.980785 -0.195090 -0.126178 0.544895 0.831470 0.000000 0.555570 0.831470 -0.126178 0.906128 -0.382683 0.000000 0.923880 -0.382683 -0.126178 0.693520 0.707107 0.000000 0.707107 0.707107 -0.126178 0.815493 -0.555570 0.000000 0.831470 -0.555570 -0.126178 0.815493 0.555570 0.000000 0.831470 0.555570 -0.126178 0.693520 -0.707107 0.000000 0.707107 -0.707107 -0.126178 0.906128 0.382683 0.000000 0.923880 0.382683 0.126178 0.815493 -0.555570 0.126178 0.693520 -0.707107 0.126178 0.815493 0.555570 0.126178 0.906128 0.382683 0.126178 0.544895 -0.831470 0.126178 0.961940 0.195090 0.126178 0.375330 -0.923880 0.126178 0.980785 0.000000 0.126178 0.191342 0.980785 0.126178 0.375330 0.923880 0.126178 0.191342 -0.980785 0.126178 0.961940 -0.195090 0.126178 0.544895 0.831470 0.126178 0.906128 -0.382683 0.126178 0.693520 0.707107 0.126178 -0.906128 -0.382683 0.126178 -0.961940 -0.195090 0.000000 -0.980785 -0.195090 0.000000 -0.923880 -0.382683 0.126178 -0.693520 0.707107 0.126178 -0.544895 0.831470 0.000000 -0.555570 0.831470 0.000000 -0.707107 0.707107 0.126178 -0.815493 -0.555570 0.000000 -0.831469 -0.555570 0.126178 -0.815493 0.555570 0.000000 -0.831469 0.555570 0.126178 -0.693520 -0.707107 0.000000 -0.707107 -0.707107 0.126178 -0.906127 0.382683 0.000000 -0.923879 0.382683 0.126178 -0.544895 -0.831470 0.000000 -0.555570 -0.831470 0.126178 -0.961940 0.195090 0.000000 -0.980785 0.195090 0.126178 -0.375330 -0.923880 0.000000 -0.382683 -0.923880 0.126178 -0.980785 0.000000 0.000000 -1.000000 0.000000 0.126178 -0.375330 0.923880 0.126178 -0.191342 0.980785 0.000000 -0.195090 0.980785 0.000000 -0.382684 0.923880 0.126178 -0.191342 -0.980785 0.000000 -0.195090 -0.980785 -0.126178 -0.544895 -0.831470 -0.126178 -0.375330 -0.923880 -0.126178 -0.961939 0.195090 -0.126178 -0.980785 0.000000 -0.126178 -0.191342 0.980785 -0.126178 -0.375330 0.923880 -0.126178 -0.191342 -0.980785 -0.126178 -0.961939 -0.195090 -0.126178 -0.544895 0.831470 -0.126178 -0.906127 -0.382683 -0.126178 -0.693520 0.707107 -0.126178 -0.815493 -0.555570 -0.126178 -0.815493 0.555570 -0.126178 -0.693520 -0.707107 -0.126178 -0.906127 0.382683 0.000000 0.000000 -1.012271 -0.126178 0.000000 -1.012271 0.126178 0.000000 1.012271 0.000000 0.000000 1.012271 -0.126178 0.000000 1.012271 0.126178 0.000000 -1.012271 " />
                                                <normal vector="-0.023133 0.382550 -0.923643 -0.047182 0.554918 -0.830561 0.000000 0.562792 -0.826563 0.000000 0.388867 -0.921262 -0.149113 0.988800 0.000000 -0.143559 0.970611 0.193060 0.000000 0.981445 0.191626 0.000000 1.000000 0.000000 -0.023133 0.382550 0.923643 -0.007538 0.226142 0.974059 0.000000 0.228553 0.973510 0.000000 0.388867 0.921262 -0.007538 0.226142 -0.974059 0.000000 0.228553 -0.973510 -0.143559 0.970611 -0.193060 0.000000 0.981445 -0.191626 -0.047182 0.554918 0.830561 0.000000 0.562792 0.826563 -0.127689 0.916288 -0.379559 0.000000 0.926359 -0.376629 -0.075533 0.705039 0.705100 0.000000 0.713675 0.700430 -0.103824 0.826930 -0.552568 0.000000 0.836207 -0.548387 -0.103824 0.826930 0.552568 0.000000 0.836207 0.548387 -0.075533 0.705039 -0.705100 0.000000 0.713675 -0.700430 -0.127689 0.916288 0.379559 0.000000 0.926359 0.376629 0.103824 0.826930 -0.552568 0.075533 0.705039 -0.705100 0.103824 0.826930 0.552568 0.127689 0.916288 0.379559 0.047182 0.554918 -0.830561 0.143559 0.970611 0.193060 0.023133 0.382550 -0.923643 0.149113 0.988800 0.000000 0.007538 0.226142 0.974059 0.023133 0.382550 0.923643 0.007538 0.226142 -0.974059 0.143559 0.970611 -0.193060 0.047182 0.554918 0.830561 0.127689 0.916288 -0.379559 0.075533 0.705039 0.705100 0.127689 -0.916288 -0.379559 0.143559 -0.970611 -0.193060 0.000000 -0.981445 -0.191626 0.000000 -0.926359 -0.376629 0.075533 -0.705039 0.705100 0.047182 -0.554918 0.830561 0.000000 -0.562792 0.826563 0.000000 -0.713706 0.700430 0.103824 -0.826930 -0.552568 0.000000 -0.836207 -0.548387 0.103824 -0.826960 0.552568 0.000000 -0.836207 0.548387 0.075533 -0.705039 -0.705100 0.000000 -0.713706 -0.700430 0.127689 -0.916288 0.379559 0.000000 -0.926359 0.376629 0.047182 -0.554918 -0.830561 0.000000 -0.562792 -0.826563 0.143559 -0.970611 0.193060 0.000000 -0.981445 0.191626 0.023133 -0.382550 -0.923643 0.000000 -0.388867 -0.921262 0.149113 -0.988800 0.000000 0.000000 -1.000000 0.000000 0.023133 -0.382550 0.923643 0.007538 -0.226142 0.974059 0.000000 -0.228553 0.973510 0.000000 -0.388867 0.921262 0.007538 -0.226142 -0.974059 0.000000 -0.228553 -0.973510 -0.047182 -0.554918 -0.830561 -0.023133 -0.382550 -0.923643 -0.143559 -0.970611 0.193060 -0.149113 -0.988800 0.000000 -0.007538 -0.226142 0.974059 -0.023133 -0.382550 0.923643 -0.007538 -0.226142 -0.974059 -0.143559 -0.970611 -0.193060 -0.047182 -0.554918 0.830561 -0.127689 -0.916288 -0.379559 -0.075533 -0.705039 0.705100 -0.103824 -0.826930 -0.552568 -0.103824 -0.826960 0.552568 -0.075533 -0.705039 -0.705100 -0.127689 -0.916288 0.379559 0.000000 0.000000 -1.000000 -0.002411 0.000000 -0.999969 0.002411 0.000000 0.999969 0.000000 0.000000 1.000000 -0.002411 0.000000 0.999969 0.002411 0.000000 -0.999969 " />
                                            </indexedtriangleset>
                                        </shape>
                                    </transform>
                                </transform>

                            </group>


                        </transform>


                    </transform>

                    </transform>

                </group>
                <!----------------------------------------------------------------------------------------------------->
                <!----------------------------          END ROTATION GIZMO                                 ------------>
                <!----------------------------------------------------------------------------------------------------->

                </group>
                <!----------------------------------------------------------------------------------------------------->
                <!----------------------------    END TRANSFORMATION GIZMOS                                 ----------->
                <!----------------------------------------------------------------------------------------------------->

            </scene>
        </x3d>
        </div>

        <!--orientation indicator-->
        <x3d id="x3domAxisSceneView">
            <scene>
                <navigationInfo type='"NONE" "ANY"'></navigationInfo>
                <viewpoint position="1.7 2.8 2.0"  orientation="-0.69862 0.66817 0.25590 1.00294"></viewpoint>
                <transform rotation="1 0 0 -1.57079632679">
                    <transform id="axes">
                        <inline url="../static/x3d/axesSmall.x3d" mapDEFToID="true" namespaceName="axes"></inline>
                    </transform>
                </transform>
            </scene>
        </x3d>

        <!--orientation box-->
        <div id="viewpointControl">
            <x3d id="x3domOrientationSceneView">
                <scene>
                    <navigationInfo type='"TURNTABLE"'></navigationInfo>
                    <viewpoint position="0.0 0.0 2.95"></viewpoint>
                    <transform id="orientationBox">
                        <inline url="../static/x3d/orientationBox.x3d" mapDEFToID="true" namespaceName="orientationBox"></inline>
                    </transform>
                </scene>
            </x3d>
            <div id="viewpointSelectors">
                <a class="viewpointSelectorBig" href="javascript:if(g_editor)g_editor.getController().setViewpoint('free')" title="Perspective">Free</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('front')" title="Front">FR</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('top')" title="Top">TP</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('left')" title="Left">LT</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('back')" title="Back">BK</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('bottom')" title="Bottom">BT</a>
                <a class="viewpointSelector" href="javascript:if(g_editor)g_editor.getController().setViewpoint('right')" title="Right">RT</a>
            </div>
        </div>

    </div>

</body>
</html>
